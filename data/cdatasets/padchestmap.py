#!/usr/bin/env python
# padchestmap.py

# Manually curated map from PadChest labels to CheXpert labels
padchesttochexpert = {
    "abnormal foreign body":                         "",
    "abscess":                                       "", # Lung Lesion?
    "adenopathy":                                    "",
    "air bronchogram":                               ["Consolidation", "Lung Opacity"],
    "air fluid level":                               "",
    "air trapping":                                  "",
    "alveolar pattern":                              "",
    "aortic aneurysm":                               "Enlarged Cardiomediastinum",
    "aortic atheromatosis":                          "",
    "aortic button enlargement":                     "Enlarged Cardiomediastinum",
    "aortic elongation":                             "Enlarged Cardiomediastinum",
    "aortic endoprosthesis":                         "Support Devices",
    "apical pleural thickening":                     "Pleural Other",
    "artificial aortic heart valve":                 "Support Devices",
    "artificial heart valve":                        "Support Devices",
    "artificial mitral heart valve":                 "Support Devices",
    "asbestosis signs":                              "Lung Opacity",
    "ascendent aortic elongation":                   "Enlarged Cardiomediastinum",
    "atelectasis":                                   "Atelectasis",
    "atelectasis basal":                             "Atelectasis",
    "atypical pneumonia":                            "Pneumonia",
    "axial hyperostosis":                            "",
    "azygoesophageal recess shift":                  "",
    "azygos lobe":                                   "",
    "blastic bone lesion":                           "",
    "bone cement":                                   "",
    "bone metastasis":                               "", # lung lesion?
    "breast mass":                                   "",
    "bronchiectasis":                                "Lung Opacity", #?
    "bronchovascular markings":                      "Lung Opacity", #?
    "bullas":                                        "",
    "calcified adenopathy":                          "Lung Lesion",
    "calcified densities":                           "Lung Lesion",
    "calcified fibroadenoma":                        "Lung Lesion",
    "calcified granuloma":                           "Lung Lesion",
    "calcified mediastinal adenopathy":              "Lung Lesion",
    "calcified pleural plaques":                     "Pleural Other",
    "calcified pleural thickening":                  "Pleural Other",
    "callus rib fracture":                           "Fracture",
    "cardiomegaly":                                  ["Enlarged Cardiomediastinum", "Cardiomegaly"],
    "catheter":                                      "Support Devices",
    "cavitation":                                    "Lung Lesion", #?
    "central vascular redistribution":               "",
    "central venous catheter":                       "Support Devices",
    "central venous catheter via jugular vein":      "Support Devices",
    "central venous catheter via subclavian vein":   "Support Devices",
    "central venous catheter via umbilical vein":    "Support Devices",
    "cervical rib":                                  "",
    "chest drain tube":                              "Support Devices",
    "Chilaiditi sign":                               "",
    "chronic changes":                               "", #?
    "clavicle fracture":                             "Fracture",
    "consolidation":                                 ["Consolidation", "Lung Opacity"],
    "COPD signs":                                    "",
    "costochondral junction hypertrophy":            "",
    "costophrenic angle blunting":                   "", # very likely but not necessarily pleural effusion
    "cyst":                                          "",
    "dai":                                           "Support Devices",
    "descendent aortic elongation":                  "Enlarged Cardiomediastinum",
    "dextrocardia":                                  "",
    "diaphragmatic eventration":                     "",
    "double J stent":                                "",
    "dual chamber device":                           "Support Devices",
    "electrical device":                             "Support Devices",
    "emphysema":                                     "",
    "empyema":                                       "",
    "end on vessel":                                 "",
    "endoprosthesis":                                "Support Devices",
    "endotracheal tube":                             "Support Devices",
    "esophagic dilatation":                          "",
    "exclude":                                       "",
    "external foreign body":                         "",
    "fibrotic band":                                 "",
    "fissure thickening":                            "Pleural Other",
    "flattened diaphragm":                           "",
    "fracture":                                      "Fracture",
    "gastrostomy tube":                              "Support Devices",
    "goiter":                                        "",
    "granuloma":                                     "Lung Lesion",
    "ground glass pattern":                          "Lung Opacity",
    "gynecomastia":                                  "",
    "heart insufficiency":                           "",
    "heart valve calcified":                         "",
    "hemidiaphragm elevation":                       "",
    "hiatal hernia":                                 "",
    "hilar congestion":                              "", # could be enlarged cardiomediastinum
    "hilar enlargement":                             "Enlarged Cardiomediastinum", # depending on boundaries of mediastinum
    "humeral fracture":                              "Fracture",
    "humeral prosthesis":                            "Support Devices",
    "hydropneumothorax":                             "Pneumothorax",
    "hyperinflated lung":                            "",
    "hypoexpansion":                                 "",
    "hypoexpansion basal":                           "",
    "increased density":                             "Lung Opacity",
    "infiltrates":                                   "Lung Opacity",
    "interstitial pattern":                          "Lung Opacity",
    "kerley lines":                                  "Pulmonary Edema",
    "kyphosis":                                      "",
    "laminar atelectasis":                           "Atelectasis",
    "lepidic adenocarcinoma":                        "Lung Lesion",
    "lipomatosis":                                   "",
    "lobar atelectasis":                             "Atelectasis",
    "loculated fissural effusion":                   "Pleural Effusion",
    "loculated pleural effusion":                    "Pleural Effusion",
    "lung metastasis":                               "Lung Lesion",
    "lung vascular paucity":                         "",
    "lymphangitis carcinomatosa":                    "",
    "lytic bone lesion":                             "",
    "major fissure thickening":                      "Pleural Other",
    "mammary prosthesis":                            "Support Devices",
    "mass":                                          "Lung Lesion",
    "mastectomy":                                    "",
    "mediastinal enlargement":                       "Cardiomediastinal Enlargement",
    "mediastinal mass":                              "",
    "mediastinal shift":                             "",
    "mediastinic lipomatosis":                       "",
    "metal":                                         "",
    "miliary opacities":                             "Lung Opacity",
    "minor fissure thickening":                      "Pleural Other",
    "multiple nodules":                              "Lung Lesion",
    "nephrostomy tube":                              "Support Devices",
    "nipple shadow":                                 "",
    "nodule":                                        "Lung Lesion",
    "non axial articular degenerative changes":      "",
    "normal":                                        "",
    "NSG tube":                                      "Support Devices",
    "obesity":                                       "",
    "osteopenia":                                    "",
    "osteoporosis":                                  "",
    "osteosynthesis material":                       "",
    "pacemaker":                                     "Support Devices",
    "pectum carinatum":                              "",
    "pectum excavatum":                              "",
    "pericardial effusion":                          "",
    "pleural effusion":                              "Pleural Effusion",
    "pleural mass":                                  "Pleural Other",
    "pleural plaques":                               "Pleural Other",
    "pleural thickening":                            "Pleural Other",
    "pneumomediastinum":                             "",
    "pneumonia":                                     "Pneumonia",
    "pneumoperitoneo":                               "",
    "pneumothorax":                                  "Pneumothorax",
    "post radiotherapy changes":                     "",
    "prosthesis":                                    "Support Devices",
    "pseudonodule":                                  "",
    "pulmonary artery enlargement":                  "",
    "pulmonary artery hypertension":                 "",
    "pulmonary edema":                               "Edema",
    "pulmonary fibrosis":                            "",
    "pulmonary hypertension":                        "",
    "pulmonary mass":                                "Lung Lesion",
    "pulmonary venous hypertension":                 "",
    "reservoir central venous catheter":             "",
    "respiratory distress":                          "",
    "reticular interstitial pattern":                "Lung Opacity",
    "reticulonodular interstitial pattern":          "Lung Opacity",
    "rib fracture":                                  "Fracture",
    "right sided aortic arch":                       "",
    "round atelectasis":                             "Atelectasis",
    "sclerotic bone lesion":                         "",
    "scoliosis":                                     "",
    "segmental atelectasis":                         "Atelectasis",
    "single chamber device":                         "Support Devices",
    "soft tissue mass":                              "",
    "sternoclavicular junction hypertrophy":         "",
    "sternotomy":                                    "",
    "subacromial space narrowing":                   "",
    "subcutaneous emphysema":                        "",
    "suboptimal study":                              "",
    "superior mediastinal enlargement":              "Enlarged Cardiomediastinum",
    "supra aortic elongation":                       "Enlarged Cardiomediastinum",
    "surgery":                                       "",
    "surgery breast":                                "",
    "surgery heart":                                 "",
    "surgery humeral":                               "",
    "surgery lung":                                  "",
    "surgery neck":                                  "",
    "suture material":                               "",
    "thoracic cage deformation":                     "",
    "total atelectasis":                             "Atelectasis",
    "tracheal shift":                                "",
    "tracheostomy tube":                             "Support Devices",
    "tuberculosis":                                  "",
    "tuberculosis sequelae":                         "",
    "unchanged":                                     "",
    "vascular hilar enlargement":                    "Enlarged Cardiomediastinum",
    "vascular redistribution":                       "",
    "ventriculoperitoneal drain tube":               "Support Devices",
    "vertebral anterior compression":                "",
    "vertebral compression":                         "",
    "vertebral degenerative changes":                "",
    "vertebral fracture":                            "Fracture",
    "volume loss":                                   ""
    }

padchesttochestxray14 = {
    "abnormal foreign body":                         "",
    "abscess":                                       ["Mass", "Nodule"], # mass/nodule?
    "adenopathy":                                    "",
    "air bronchogram":                               "",
    "air fluid level":                               "",
    "air trapping":                                  "",
    "alveolar pattern":                              "",
    "aortic aneurysm":                               "",
    "aortic atheromatosis":                          "",
    "aortic button enlargement":                     "",
    "aortic elongation":                             "",
    "aortic endoprosthesis":                         "",
    "apical pleural thickening":                     "Pleural_Thickening",
    "artificial aortic heart valve":                 "",
    "artificial heart valve":                        "",
    "artificial mitral heart valve":                 "",
    "asbestosis signs":                              "Fibrosis",
    "ascendent aortic elongation":                   "",
    "atelectasis":                                   "Atelectasis",
    "atelectasis basal":                             "Atelectasis",
    "atypical pneumonia":                            "Pneumonia",
    "axial hyperostosis":                            "",
    "azygoesophageal recess shift":                  "",
    "azygos lobe":                                   "",
    "blastic bone lesion":                           ["Mass", "Nodule"], # mass/nodule?
    "bone cement":                                   "",
    "bone metastasis":                               ["Mass", "Nodule"], # mass/nodule?
    "breast mass":                                   "",
    "bronchiectasis":                                "", 
    "bronchovascular markings":                      "", 
    "bullas":                                        "",
    "calcified adenopathy":                          "Nodule", # mass/nodule?
    "calcified densities":                           ["Mass", "Nodule"], # mass/nodule?
    "calcified fibroadenoma":                        ["Mass", "Nodule"], # mass/nodule?
    "calcified granuloma":                           "Nodule", # mass/nodule?
    "calcified mediastinal adenopathy":              "Nodule", # mass/nodule?
    "calcified pleural plaques":                     "Pleural_Thickening",
    "calcified pleural thickening":                  "Pleural_Thickening",
    "callus rib fracture":                           "",
    "cardiomegaly":                                  "Cardiomegaly",
    "catheter":                                      "",
    "cavitation":                                    ["Mass", "Nodule"], # mass/nodule?
    "central vascular redistribution":               "",
    "central venous catheter":                       "",
    "central venous catheter via jugular vein":      "",
    "central venous catheter via subclavian vein":   "",
    "central venous catheter via umbilical vein":    "",
    "cervical rib":                                  "",
    "chest drain tube":                              "",
    "Chilaiditi sign":                               "",
    "chronic changes":                               "", 
    "clavicle fracture":                             "",
    "consolidation":                                 "Consolidation",
    "COPD signs":                                    "",
    "costochondral junction hypertrophy":            "",
    "costophrenic angle blunting":                   "", # very likely but not necessarily pleural effusion
    "cyst":                                          ["Mass", "Nodule"], # mass/nodule?
    "dai":                                           "",
    "descendent aortic elongation":                  "",
    "dextrocardia":                                  "",
    "diaphragmatic eventration":                     "",
    "double J stent":                                "",
    "dual chamber device":                           "",
    "electrical device":                             "",
    "emphysema":                                     "Emphysema",
    "empyema":                                       "",
    "end on vessel":                                 "",
    "endoprosthesis":                                "",
    "endotracheal tube":                             "",
    "esophagic dilatation":                          "",
    "exclude":                                       "",
    "external foreign body":                         "",
    "fibrotic band":                                 "Fibrosis",
    "fissure thickening":                            "Pleural_Thickening",
    "flattened diaphragm":                           "",
    "fracture":                                      "",
    "gastrostomy tube":                              "",
    "goiter":                                        "",
    "granuloma":                                     "Nodule", # mass/nodule?
    "ground glass pattern":                          "Infiltration", 
    "gynecomastia":                                  "",
    "heart insufficiency":                           "",
    "heart valve calcified":                         "",
    "hemidiaphragm elevation":                       "",
    "hiatal hernia":                                 "",
    "hilar congestion":                              "", 
    "hilar enlargement":                             "", 
    "humeral fracture":                              "",
    "humeral prosthesis":                            "",
    "hydropneumothorax":                             "Pneumothorax",
    "hyperinflated lung":                            "",
    "hypoexpansion":                                 "",
    "hypoexpansion basal":                           "",
    "increased density":                             "",
    "infiltrates":                                   "Infiltration",
    "interstitial pattern":                          "Infiltration", 
    "kerley lines":                                  "Edema",
    "kyphosis":                                      "",
    "laminar atelectasis":                           "Atelectasis",
    "lepidic adenocarcinoma":                        ["Mass", "Nodule"], # mass/nodule
    "lipomatosis":                                   "",
    "lobar atelectasis":                             "Atelectasis",
    "loculated fissural effusion":                   "Effusion",
    "loculated pleural effusion":                    "Effusion",
    "lung metastasis":                               ["Mass", "Nodule"], # mass/nodule
    "lung vascular paucity":                         "",
    "lymphangitis carcinomatosa":                    "",
    "lytic bone lesion":                             "",
    "major fissure thickening":                      "Pleural_Thickening",
    "mammary prosthesis":                            "",
    "mass":                                          "Mass",
    "mastectomy":                                    "",
    "mediastinal enlargement":                       "Cardiomegaly", # likely
    "mediastinal mass":                              "Mass",
    "mediastinal shift":                             "",
    "mediastinic lipomatosis":                       "",
    "metal":                                         "",
    "miliary opacities":                             "Infiltration",
    "minor fissure thickening":                      "Pleural Thickening",
    "multiple nodules":                              "Nodule",
    "nephrostomy tube":                              "",
    "nipple shadow":                                 "",
    "nodule":                                        "Nodule",
    "non axial articular degenerative changes":      "",
    "normal":                                        "",
    "NSG tube":                                      "",
    "obesity":                                       "",
    "osteopenia":                                    "",
    "osteoporosis":                                  "",
    "osteosynthesis material":                       "",
    "pacemaker":                                     "",
    "pectum carinatum":                              "",
    "pectum excavatum":                              "",
    "pericardial effusion":                          "Effusion",
    "pleural effusion":                              "Effusion",
    "pleural mass":                                  "Mass",
    "pleural plaques":                               "Pleural_Thickening",
    "pleural thickening":                            "Pleural_Thickening",
    "pneumomediastinum":                             "",
    "pneumonia":                                     "Pneumonia",
    "pneumoperitoneo":                               "",
    "pneumothorax":                                  "Pneumothorax",
    "post radiotherapy changes":                     "Fibrosis", 
    "prosthesis":                                    "",
    "pseudonodule":                                  "",
    "pulmonary artery enlargement":                  "",
    "pulmonary artery hypertension":                 "",
    "pulmonary edema":                               "Edema",
    "pulmonary fibrosis":                            "Fibrosis",
    "pulmonary hypertension":                        "",
    "pulmonary mass":                                "Mass",
    "pulmonary venous hypertension":                 "",
    "reservoir central venous catheter":             "",
    "respiratory distress":                          "",
    "reticular interstitial pattern":                "Infiltration", 
    "reticulonodular interstitial pattern":          "Infiltration", 
    "rib fracture":                                  "",
    "right sided aortic arch":                       "",
    "round atelectasis":                             "Atelectasis",
    "sclerotic bone lesion":                         "",
    "scoliosis":                                     "",
    "segmental atelectasis":                         "Atelectasis",
    "single chamber device":                         "",
    "soft tissue mass":                              "Mass",
    "sternoclavicular junction hypertrophy":         "",
    "sternotomy":                                    "",
    "subacromial space narrowing":                   "",
    "subcutaneous emphysema":                        "Emphysema",
    "suboptimal study":                              "",
    "superior mediastinal enlargement":              "",
    "supra aortic elongation":                       "",
    "surgery":                                       "",
    "surgery breast":                                "",
    "surgery heart":                                 "",
    "surgery humeral":                               "",
    "surgery lung":                                  "",
    "surgery neck":                                  "",
    "suture material":                               "",
    "thoracic cage deformation":                     "",
    "total atelectasis":                             "Atelectasis",
    "tracheal shift":                                "",
    "tracheostomy tube":                             "",
    "tuberculosis":                                  "",
    "tuberculosis sequelae":                         "",
    "unchanged":                                     "",
    "vascular hilar enlargement":                    "",
    "vascular redistribution":                       "",
    "ventriculoperitoneal drain tube":               "",
    "vertebral anterior compression":                "",
    "vertebral compression":                         "",
    "vertebral degenerative changes":                "",
    "vertebral fracture":                            "",
    "volume loss":                                   ""
    }

#padchesttochestxray14 = {
#    "abscess":                                       ["Mass", "Nodule"], # mass/nodule?
#    "blastic bone lesion":                           ["Mass", "Nodule"], # mass/nodule?
#    "bone metastasis":                               ["Mass", "Nodule"], # mass/nodule?
#    "calcified adenopathy":                          "Nodule", # mass/nodule?
#    "calcified densities":                           ["Mass", "Nodule"], # mass/nodule?
#    "calcified fibroadenoma":                        ["Mass", "Nodule"], # mass/nodule?
#    "calcified granuloma":                           "Nodule", # mass/nodule?
#    "calcified mediastinal adenopathy":              "Nodule", # mass/nodule?
#    "cavitation":                                    ["Mass", "Nodule"], # mass/nodule?
#    "consolidation":                                 "Consolidation",
#    "cyst":                                          ["Mass", "Nodule"], # mass/nodule?
#    "granuloma":                                     "Nodule", # mass/nodule?
#    "lepidic adenocarcinoma":                        ["Mass", "Nodule"], # mass/nodule
#    "lung metastasis":                               ["Mass", "Nodule"], # mass/nodule
#    }
